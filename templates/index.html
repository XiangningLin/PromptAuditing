<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Auditing Framework</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="18" height="18" rx="2" stroke="#2563eb" stroke-width="2"/>
                    <path d="M7 12L10 15L17 8" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h1>Prompt Auditing Framework</h1>
            </div>
            <div class="header-actions">
                <button class="btn-secondary" id="viewStandardsBtn">View Standards</button>
                <button class="btn-secondary" id="aboutBtn">About</button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>Categories</h3>
                    <div id="categoriesList" class="categories-list">
                        <!-- Categories will be loaded here -->
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>Quick Guide</h3>
                    <p class="help-text">
                        1. Paste your system prompt in the text area<br>
                        2. Click "Generate Audit Report"<br>
                        3. Review detailed compliance results<br>
                        4. Check recommendations for improvement
                    </p>
                </div>
            </aside>

            <!-- Main Area -->
            <main class="audit-container">
                <div class="intro-section">
                    <h2>System Prompt Auditor</h2>
                    <p>Evaluate AI system prompts against user-centered ethical standards</p>
                </div>

                <!-- Input Area -->
                <div class="prompt-input-section">
                    <label for="promptInput" class="input-label">
                        <span>System Prompt</span>
                        <span class="input-hint">Paste your AI system prompt below</span>
                    </label>
                    <textarea 
                        id="promptInput" 
                        placeholder="Enter your system prompt here for auditing...&#10;&#10;Example: You are a helpful AI assistant that provides accurate information..."
                        rows="8"
                    ></textarea>
                    
                    <div class="model-selector-wrapper">
                        <div class="model-selector-header">
                            <div class="model-label-group">
                                <svg class="model-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <div>
                                    <label for="modelSelect" class="model-label-text">AI Model</label>
                                    <span class="model-hint-text">Select the model to perform the audit</span>
                                </div>
                            </div>
                        </div>
                        <div class="model-select-wrapper">
                            <!-- Hidden native select for form compatibility -->
                            <select id="modelSelect" style="display: none;">
                                <option value="gpt-4o">GPT-4o (Recommended)</option>
                            </select>
                            
                            <!-- Custom dropdown -->
                            <div class="custom-select" id="customSelect">
                                <div class="custom-select-trigger" tabindex="0" role="button" aria-haspopup="listbox" aria-expanded="false">
                                    <span class="custom-select-value">GPT-4o (Recommended)</span>
                                    <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </div>
                                <div class="custom-select-dropdown" role="listbox">
                                    <div class="custom-select-options">
                                        <!-- Options will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="modelInfo" class="model-info-card" style="display: none;">
                            <div class="model-info-content">
                                <span class="model-info-provider"></span>
                                <span class="model-info-description"></span>
                            </div>
                        </div>
                    </div>
                    
                    <button class="audit-btn" id="auditBtn">
                        <span>Generate Audit Report</span>
                    </button>
                </div>

                <!-- Results Area -->
                <div class="results-container" id="resultsContainer" style="display: none;">
                    <div class="results-header">
                        <h3>Audit Report</h3>
                        <button class="btn-clear" id="clearBtn">Clear Results</button>
                    </div>
                    <div id="auditReport">
                        <!-- Report will appear here -->
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Standards Modal -->
    <div class="modal" id="standardsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Audit Standards</h2>
                <button class="close-btn" id="closeStandardsBtn">&times;</button>
            </div>
            <div class="modal-body" id="standardsContent">
                <!-- Standards will be loaded here -->
            </div>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal" id="aboutModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>About This Framework</h2>
                <button class="close-btn" id="closeAboutBtn">&times;</button>
            </div>
            <div class="modal-body">
                <p>The <strong>Prompt Auditing Framework</strong> is a third-party auditing service designed to ensure AI system prompts serve users' best interests.</p>
                
                <h3>The Problem</h3>
                <p>When users interact with AI services, system prompts are typically hidden. This lack of transparency can lead to conflicts of interest, such as agents being instructed to promote expensive products or biased recommendations.</p>
                
                <h3>The Solution</h3>
                <p>This framework provides independent evaluation of system prompts against 35 ethical standards across 7 categories, balancing user protection with legitimate security concerns.</p>
                
                <h3>Evaluation Categories</h3>
                <ul>
                    <li><strong>Deception & Misinformation</strong> - Truthful representation of capabilities and sources</li>
                    <li><strong>Manipulation</strong> - Free from coercive or exploitative tactics</li>
                    <li><strong>Privacy Violation</strong> - Appropriate data collection and consent</li>
                </ul>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>

